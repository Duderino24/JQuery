<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="css/style.css">
    <script   src="https://code.jquery.com/jquery-1.12.4.js"   integrity="sha256-Qw82+bXyGq6MydymqBxNPYTaUXXq7c8v3CwiYwLLNXU="   crossorigin="anonymous"></script>
  <title>Tic Tac Toe</title>
  <script>
    jQuery(document).ready(function($) {
      var player=1;

      $('.box').on('click', function() {
        if ($('#completeMove').attr('disabled') ){
          
          if ($(this).hasClass('cross') || $(this).hasClass('circle')) {
            $('h1').html('This box is already checked!');
          } else {
            $('#completeMove').removeAttr('disabled');
            var mark = checkForMark(player);
            function checkForMark (player) {
              if (player == 1) {
                return 'cross';
              } else if (player == 2) {
                return 'circle';
              }
            } 
            $(this).addClass(mark);
          }
        } else if (!$('#completeMove').attr('disabled')) {
          $(this).css('background', 'none');
        } 
      });
      $('#completeMove').on('click', function() {
        $(this).attr('disabled', 'true');
          //change turns
          if /* check if won */( 
            ($('#grid').find('#c00').is('.cross') && $('#grid').find('#c01').is('.cross') && $('#grid').find('#c02').is('.cross')) ||
            ($('#grid').find('#c10').is('.cross') && $('#grid').find('#c11').is('.cross') && $('#grid').find('#c12').is('.cross'))||
            ($('#grid').find('#c20').is('.cross') && $('#grid').find('#c21').is('.cross') && $('#grid').find('#c22').is('.cross')) ||
            ($('#grid').find('#c00').is('.cross') && $('#grid').find('#c10').is('.cross') && $('#grid').find('#c20').is('.cross')) ||
            ($('#grid').find('#c10').is('.cross') && $('#grid').find('#c11').is('.cross') && $('#grid').find('#c12').is('.cross')) ||
            ($('#grid').find('#c20').is('.cross') && $('#grid').find('#c21').is('.cross') && $('#grid').find('#c22').is('.cross')) ||
            ($('#grid').find('#c00').is('.cross') && $('#grid').find('#c11').is('.cross') && $('#grid').find('#c22').is('.cross')) ||
            ($('#grid').find('#c20').is('.cross') && $('#grid').find('#c11').is('.cross') && $('#grid').find('#c02').is('.cross'))
            ) {
            alert('Player 1 has won.');
            $('.row div').removeClass('cross').removeClass('circle');
          } else if (
            ($('#grid').find('#c00').is('.circle') && $('#grid').find('#c01').is('.circle') && $('#grid').find('#c02').is('.circle')) ||
            ($('#grid').find('#c10').is('.circle') && $('#grid').find('#c11').is('.circle') && $('#grid').find('#c12').is('.circle')) ||
            ($('#grid').find('#c20').is('.circle') && $('#grid').find('#c21').is('.circle') && $('#grid').find('#c22').is('.circle')) ||
            ($('#grid').find('#c00').is('.circle') && $('#grid').find('#c10').is('.circle') && $('#grid').find('#c20').is('.circle')) ||
            ($('#grid').find('#c10').is('.circle') && $('#grid').find('#c11').is('.circle') && $('#grid').find('#c12').is('.circle')) ||
            ($('#grid').find('#c20').is('.circle') && $('#grid').find('#c21').is('.circle') && $('#grid').find('#c22').is('.circle')) ||
            ($('#grid').find('#c00').is('.circle') && $('#grid').find('#c11').is('.circle') && $('#grid').find('#c22').is('.circle')) ||
            ($('#grid').find('#c20').is('.circle') && $('#grid').find('#c11').is('.circle') && $('#grid').find('#c02').is('.circle'))
            ) {
            alert('Player 2 has won.');
            $('.row div').removeClass('cross').removeClass('circle');

          } else {
            if(player == 1) {
              return player = 2;
            } else {
                return player = 1;
            }
          }
      });


    });
  </script>
</head>
<body>
  <main>
    <h1></h1>
    <div id="xPlayer">
      <h2>X Player Section</h2>
      <span id="xMoves"></span>
      <button class="undoMove">Undo!</button>
    </div>
    <div id="oPlayer">
      <h2>O Player Section</h2>
      <span id="oMoves"></span>
      <button class="undoMove">Undo!</button>
    </div>
    <div id="grid">
      <div class="row">      
        <div class="box" id="c00"></div>
        <div class="box" id="c01"></div>
        <div class="box" id="c02"></div>
      </div>
      <div class="row">
        <div class="box" id="c10"></div>
        <div class="box" id="c11"></div>
        <div class="box" id="c12"></div>
      </div>
      <div class="row">
        <div class="box" id="c20"></div>
        <div class="box" id="c21"></div>
        <div class="box" id="c22"></div>
      </div>
    </div>
    <button id="completeMove" disabled="true">Submit Move!</button>
  </main>      
</body>
</html>